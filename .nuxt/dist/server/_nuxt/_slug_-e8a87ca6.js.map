{"version":3,"file":"_slug_-e8a87ca6.js","sources":["../../../../node_modules/@nuxtjs/sanity/dist/runtime/components/sanity-content.mjs","../../../../components/BlockContent.vue","../../../../pages/post/[slug].vue"],"sourcesContent":["import { defu } from \"defu\";\nimport { defineComponent, h } from \"vue\";\nimport { isVue2 } from \"#imports\";\nconst isSpan = (block) => block._type === \"span\";\nconst defaults = {\n  types: {\n    span: \"span\",\n    image: \"img\"\n  },\n  marks: {\n    strong: \"strong\",\n    em: \"em\",\n    link: \"a\"\n  },\n  styles: {\n    h1: \"h1\",\n    h2: \"h2\",\n    h3: \"h3\",\n    h4: \"h4\",\n    h5: \"h5\",\n    h6: \"h6\",\n    normal: \"p\",\n    blockquote: \"blockquote\"\n  },\n  listItem: \"li\",\n  container: \"div\"\n};\nconst validAttrs = [\n  \"abbr\",\n  \"accesskey\",\n  \"accessKey\",\n  \"action\",\n  \"alt\",\n  \"autocomplete\",\n  \"autofocus\",\n  \"autoplay\",\n  \"charset\",\n  \"checked\",\n  \"cite\",\n  \"class\",\n  \"cols\",\n  \"colspan\",\n  \"command\",\n  \"content\",\n  \"datetime\",\n  \"default\",\n  \"disabled\",\n  \"download\",\n  \"draggable\",\n  \"dropzone\",\n  \"headers\",\n  \"height\",\n  \"hidden\",\n  \"href\",\n  \"hreflang\",\n  \"id\",\n  \"maxlength\",\n  \"minlength\",\n  \"muted\",\n  \"placeholder\",\n  \"preload\",\n  \"radiogroup\",\n  \"readonly\",\n  \"required\",\n  \"role\",\n  \"selected\",\n  \"src\",\n  \"srcdoc\",\n  \"srcset\",\n  \"tabindex\",\n  \"title\",\n  \"value\",\n  \"width\",\n  \"wrap\"\n];\nfunction findSerializer(item, serializers) {\n  if (item?.listItem && item._type !== \"list\") {\n    return serializers.listItem || \"li\";\n  }\n  return item?._type ? serializers.types[item._type] || serializers.marks[item._type] : void 0;\n}\nfunction renderStyle(item, serializers, children) {\n  const serializer = item.style && serializers.styles[item.style];\n  const isElement = typeof serializer === \"string\";\n  const props = extractProps(item, isElement);\n  if (!item.listItem && item.style && serializer) {\n    return h(serializer, props, isVue2 ? children?.() : { default: children });\n  }\n  return children?.();\n}\nfunction renderInSerializer(item, serializers) {\n  return render(serializers, item, () => (item.children || []).map((child) => {\n    if (isSpan(child)) {\n      return renderMarks(child.text, child.marks, serializers, item.markDefs);\n    }\n    return render(serializers, child, () => renderMarks(child.text, child.marks, serializers, item.markDefs));\n  }));\n}\nfunction renderMarks(content, [mark, ...marks] = [], serializers, markDefs = []) {\n  if (!mark)\n    return content;\n  const definition = mark in serializers.marks ? { _type: mark, _key: \"\" } : markDefs.find((m) => m._key === mark);\n  return render(serializers, definition, () => renderMarks(content, marks, serializers, markDefs));\n}\nfunction walkList(blocks, block) {\n  if (!block.listItem) {\n    blocks.push(block);\n    return blocks;\n  }\n  const lastBlock = blocks[blocks.length - 1] || {};\n  if (lastBlock._type !== \"list\" || !lastBlock.children || block.level === 1 && block.listItem !== lastBlock.listItem) {\n    blocks.push({\n      _type: \"list\",\n      listItem: block.listItem,\n      level: block.level,\n      children: [block]\n    });\n    return blocks;\n  }\n  if (block.level === lastBlock.level && block.listItem === lastBlock.listItem) {\n    lastBlock.children.push(block);\n    return blocks;\n  }\n  walkList(lastBlock.children, block);\n  return blocks;\n}\nfunction render(serializers, item, children) {\n  const serializer = findSerializer(item, serializers);\n  if (!serializer)\n    return children?.();\n  if (!item) {\n    return void 0;\n  }\n  const isElement = typeof serializer === \"string\";\n  const props = extractProps(item, isElement);\n  if (isElement) {\n    return h(serializer, props, children?.());\n  }\n  return h(serializer, props, isVue2 ? children?.() : { default: () => children?.() });\n}\nfunction extractProps(item, isElement) {\n  return Object.fromEntries(\n    Object.entries(item).filter(([key]) => key !== \"_type\" && key !== \"markDefs\").map(\n      ([key, value]) => {\n        if (key === \"_key\")\n          return [\"key\", value || null];\n        if (!isElement || validAttrs.includes(key))\n          return [key, value];\n        return [];\n      }\n    )\n  );\n}\nfunction renderBlocks(blocks, serializers) {\n  return blocks.map((block) => {\n    const node = renderStyle(block, serializers, () => renderInSerializer(block, serializers));\n    if (process.env.NODE_ENV === \"development\" && (!node || Array.isArray(node) && !node.length)) {\n      console.warn(`No serializer found for block type \"${block._type}\".`, block);\n    }\n    return node;\n  });\n}\nexport default defineComponent({\n  name: \"SanityContent\",\n  props: {\n    blocks: {\n      type: Array,\n      default: () => []\n    },\n    serializers: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  setup(props) {\n    const serializers = defu(props.serializers, defaults);\n    serializers.types.list = serializers.types.list || createListSerializer(serializers);\n    return () => renderBlocks(props.blocks?.reduce(walkList, []) || [], serializers);\n  }\n});\nconst createListSerializer = (serializers) => {\n  return defineComponent({\n    name: \"ListComponent\",\n    inheritAttrs: false,\n    props: {\n      children: {\n        type: Array,\n        default: () => []\n      },\n      level: {\n        type: Number,\n        default: 1\n      }\n    },\n    setup(props) {\n      return () => {\n        const isOrdered = props.children[0]?.listItem === \"number\";\n        if (props.level > 1) {\n          return h(serializers.listItem || \"li\", [h(\n            isOrdered ? \"ol\" : \"ul\",\n            {},\n            isVue2 ? renderBlocks(props.children, serializers) : { default: () => renderBlocks(props.children, serializers) }\n          )]);\n        }\n        return h(\n          isOrdered ? \"ol\" : \"ul\",\n          {},\n          isVue2 ? renderBlocks(props.children, serializers) : { default: () => renderBlocks(props.children, serializers) }\n        );\n      };\n    }\n  });\n};\n","<script>\nexport default {\n  props: {\n    blocks: {\n      type: Array,\n      required: true,\n    },\n  },\n};\n</script>\n\n<template>\n  <SanityContent :blocks=\"blocks\" />\n</template>\n","<script setup lang=\"ts\">\n// Configuration VueAnalytics\nimport { type Post } from \"~/types/Post\";\nimport BlockContent from \"~/components/BlockContent.vue\";\nimport { Site } from \"@/variables\"\nimport SocialShare from \"~/components/SocialShare.vue\";\n\nconst route = useRoute();\nconst query = groq`*[ _type == \"post\" && slug.current == $slug][0]`;\nconst { data: post } = await useSanityQuery<Post>(query, {\n  slug: route.params.slug,\n});\n\n//CHANGE THIS BASED ON TENANT\nlet path = computed(() => Site.url + route.fullPath);\n\n</script>\n<script lang=\"ts\">\nexport default {\n  props: {\n    post: {\n      type: Object,\n      required: true,\n    },\n  },\n  components: { BlockContent },\n};\n</script>\n<template>\n  <Head>\n\n    <Title>{{ post.title }}</Title>\n    <Meta name=\"description\" :content=\"post.excerpt\" />\n    <Meta name=\"keywords\" :content=\"post.title\" />\n    <Meta property=\"og:url\" :content=\"path\" />\n    <Meta property=\"og:type\" content=\"website\" />\n    <Meta property=\"og:title\" :content=\"post.title\" />\n    <Meta property=\"og:site_name\" :content=\"Site.name\" />\n    <Meta property=\"og:description\" :content=\"post.excerpt\" />\n    <Meta property=\"og:image\" :content=\"$urlFor(post.mainImage).url()\" />\n    <Meta http-equiv=\"cache-control\" content=\"max-age=0\" />\n    <Meta http-equiv=\"cache-control\" content=\"no-cache\" />\n    <Meta http-equiv=\"pragma\" content=\"no-cache\" />\n    <Link rel=\"icon\" type=\"image/x-icon\" :href=\"Site.favicon\" />\n    <Meta http-equiv=\"content-language\" :content=\"Site.language\" />\n  </Head>\n  <section class=\"post\">\n\n\n    <div class=\"card\">\n\n      <FloatGoal />\n\n      <a :href=\"Site.url\" class=\"back\"><svg xmlns=\"http://www.w3.org/2000/svg\" class=\"shareicon\" width=\"24\" height=\"24\"\n          viewBox=\"0 0 24 24\" stroke-width=\"2\" stroke=\"#bbb\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n          <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"></path>\n          <path d=\"M9 14l-4 -4l4 -4\"></path>\n          <path d=\"M5 10h11a4 4 0 1 1 0 8h-1\"></path>\n        </svg>Go back</a>\n\n      <img v-if=\"post.mainImage\" class=\"post__cover\" :src=\"$urlFor(post.mainImage).width(1920).url()\" :alt=\"post.title\" />\n      <div v-else class=\"post__cover--none\" />\n      <div class=\"post__container\">\n        <h1 class=\"post__title\">{{ post.title }}</h1>\n        <p class=\"post__date\">{{ formatDate(post._createdAt) }}</p>\n        <SocialShare :link=\"path\" :title=\"post.title\" />\n        <GoToGoal />\n        <div v-if=\"post.body\" class=\"post__content\">\n          <BlockContent :blocks=\"post.body\" />\n        </div>\n        <GoToGoal />\n        <SocialShare :link=\"path\" :title=\"post.title\" />\n      </div>\n    </div>\n  </section>\n</template>\n\n<style scoped>\n.post {\n  width: 100%;\n\n  & .post__cover,\n  & .post__cover--none {\n    width: 100%;\n    height: 200px;\n    margin-top: 20px;\n    object-fit: cover;\n  }\n\n  & .post__cover--none {\n    background: var(--black);\n  }\n\n  & .post__container {\n    padding: 0 var(--space-3);\n  }\n\n  & .post__content {\n    font-family: var(--font-family-serif);\n    font-weight: 400;\n    font-size: var(--font-size-4);\n    line-height: var(--line-height-5);\n    letter-spacing: -0.02em;\n    margin-top: 0;\n\n    /* Targeting tags in PortableText */\n    & blockquote {\n      border-left: 5px solid var(--black);\n      padding-left: var(--space-3);\n      margin-left: var(--space-4);\n    }\n\n    & a {\n      color: var(--blue-600);\n      text-decoration: none;\n    }\n  }\n\n  & .post__title {\n    font-family: var(--font-family-sans);\n    font-size: var(--font-size-7);\n    line-height: var(--line-height-6);\n    margin: var(--space-4) 0;\n    font-weight: 800;\n  }\n\n  & .post__excerpt {\n    font-family: var(--font-family-serif);\n    font-size: var(--font-size-5);\n    line-height: var(--line-height-4);\n    margin-top: 0;\n    font-weight: 400;\n  }\n\n  & .post__date {\n    font-family: var(--font-family-sans);\n    font-weight: 600;\n    font-family: var(--font-family-sans);\n    font-size: var(--font-size-1);\n    line-height: var(--line-height-1);\n    margin-top: var(--space-4);\n  }\n}\n\n\n@media (min-width: 800px) {\n  .post {\n\n    & .post__cover,\n    & .post__cover--none {\n      width: 750px;\n      height: 380px;\n    }\n\n    & .post__title {\n      font-size: var(--font-size-10);\n      line-height: var(--line-height-10);\n      margin: var(--space-6) 0 0;\n      letter-spacing: -0.025em;\n    }\n\n    & .post__excerpt {\n      font-size: var(--font-size-5);\n      line-height: var(--line-height-5);\n      margin-top: var(--space-3);\n      margin-bottom: var(--space-3);\n    }\n\n    & .post__date {\n      font-size: var(--font-size-3);\n      line-height: var(--line-height-2);\n      margin-top: var(--space-0);\n    }\n\n    & .post__content {\n      margin-top: var(--space-7);\n    }\n  }\n}\n\n\n.shareicon {\n  margin-bottom: -6px;\n  width: 40px;\n}\n\n.back {\n  color: var(--primary-font-color);\n  font-weight: 500;\n  text-decoration: none;\n  margin-bottom: 20px !important;\n}\n</style>\n"],"names":["_sfc_main","_ssrRenderComponent","_mergeProps"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGA,MAAM,SAAS,CAAC,UAAU,MAAM,UAAU;AAC1C,MAAM,WAAW;AAAA,EACf,OAAO;AAAA,IACL,MAAM;AAAA,IACN,OAAO;AAAA,EACR;AAAA,EACD,OAAO;AAAA,IACL,QAAQ;AAAA,IACR,IAAI;AAAA,IACJ,MAAM;AAAA,EACP;AAAA,EACD,QAAQ;AAAA,IACN,IAAI;AAAA,IACJ,IAAI;AAAA,IACJ,IAAI;AAAA,IACJ,IAAI;AAAA,IACJ,IAAI;AAAA,IACJ,IAAI;AAAA,IACJ,QAAQ;AAAA,IACR,YAAY;AAAA,EACb;AAAA,EACD,UAAU;AAAA,EACV,WAAW;AACb;AACA,MAAM,aAAa;AAAA,EACjB;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF;AACA,SAAS,eAAe,MAAM,aAAa;AACzC,OAAI,6BAAM,aAAY,KAAK,UAAU,QAAQ;AAC3C,WAAO,YAAY,YAAY;AAAA,EAChC;AACD,UAAO,6BAAM,SAAQ,YAAY,MAAM,KAAK,KAAK,KAAK,YAAY,MAAM,KAAK,KAAK,IAAI;AACxF;AACA,SAAS,YAAY,MAAM,aAAa,UAAU;AAChD,QAAM,aAAa,KAAK,SAAS,YAAY,OAAO,KAAK,KAAK;AAC9D,QAAM,YAAY,OAAO,eAAe;AACxC,QAAM,QAAQ,aAAa,MAAM,SAAS;AAC1C,MAAI,CAAC,KAAK,YAAY,KAAK,SAAS,YAAY;AAC9C,WAAO,EAAE,YAAY,OAA+B,EAAE,SAAS,SAAQ,CAAE;AAAA,EAC1E;AACD,SAAO;AACT;AACA,SAAS,mBAAmB,MAAM,aAAa;AAC7C,SAAO,OAAO,aAAa,MAAM,OAAO,KAAK,YAAY,CAAE,GAAE,IAAI,CAAC,UAAU;AAC1E,QAAI,OAAO,KAAK,GAAG;AACjB,aAAO,YAAY,MAAM,MAAM,MAAM,OAAO,aAAa,KAAK,QAAQ;AAAA,IACvE;AACD,WAAO,OAAO,aAAa,OAAO,MAAM,YAAY,MAAM,MAAM,MAAM,OAAO,aAAa,KAAK,QAAQ,CAAC;AAAA,EACzG,CAAA,CAAC;AACJ;AACA,SAAS,YAAY,SAAS,CAAC,MAAM,GAAG,KAAK,IAAI,IAAI,aAAa,WAAW,IAAI;AAC/E,MAAI,CAAC;AACH,WAAO;AACT,QAAM,aAAa,QAAQ,YAAY,QAAQ,EAAE,OAAO,MAAM,MAAM,GAAE,IAAK,SAAS,KAAK,CAAC,MAAM,EAAE,SAAS,IAAI;AAC/G,SAAO,OAAO,aAAa,YAAY,MAAM,YAAY,SAAS,OAAO,aAAa,QAAQ,CAAC;AACjG;AACA,SAAS,SAAS,QAAQ,OAAO;AAC/B,MAAI,CAAC,MAAM,UAAU;AACnB,WAAO,KAAK,KAAK;AACjB,WAAO;AAAA,EACR;AACD,QAAM,YAAY,OAAO,OAAO,SAAS,CAAC,KAAK;AAC/C,MAAI,UAAU,UAAU,UAAU,CAAC,UAAU,YAAY,MAAM,UAAU,KAAK,MAAM,aAAa,UAAU,UAAU;AACnH,WAAO,KAAK;AAAA,MACV,OAAO;AAAA,MACP,UAAU,MAAM;AAAA,MAChB,OAAO,MAAM;AAAA,MACb,UAAU,CAAC,KAAK;AAAA,IACtB,CAAK;AACD,WAAO;AAAA,EACR;AACD,MAAI,MAAM,UAAU,UAAU,SAAS,MAAM,aAAa,UAAU,UAAU;AAC5E,cAAU,SAAS,KAAK,KAAK;AAC7B,WAAO;AAAA,EACR;AACD,WAAS,UAAU,UAAU,KAAK;AAClC,SAAO;AACT;AACA,SAAS,OAAO,aAAa,MAAM,UAAU;AAC3C,QAAM,aAAa,eAAe,MAAM,WAAW;AACnD,MAAI,CAAC;AACH,WAAO;AACT,MAAI,CAAC,MAAM;AACT,WAAO;AAAA,EACR;AACD,QAAM,YAAY,OAAO,eAAe;AACxC,QAAM,QAAQ,aAAa,MAAM,SAAS;AAC1C,MAAI,WAAW;AACb,WAAO,EAAE,YAAY,OAAO,sCAAY;AAAA,EACzC;AACD,SAAO,EAAE,YAAY,OAA+B,EAAE,SAAS,MAAM,uCAAY,CAAE;AACrF;AACA,SAAS,aAAa,MAAM,WAAW;AACrC,SAAO,OAAO;AAAA,IACZ,OAAO,QAAQ,IAAI,EAAE,OAAO,CAAC,CAAC,GAAG,MAAM,QAAQ,WAAW,QAAQ,UAAU,EAAE;AAAA,MAC5E,CAAC,CAAC,KAAK,KAAK,MAAM;AAChB,YAAI,QAAQ;AACV,iBAAO,CAAC,OAAO,SAAS,IAAI;AAC9B,YAAI,CAAC,aAAa,WAAW,SAAS,GAAG;AACvC,iBAAO,CAAC,KAAK,KAAK;AACpB,eAAO;MACR;AAAA,IACF;AAAA,EACL;AACA;AACA,SAAS,aAAa,QAAQ,aAAa;AACzC,SAAO,OAAO,IAAI,CAAC,UAAU;AAC3B,UAAM,OAAO,YAAY,OAAO,aAAa,MAAM,mBAAmB,OAAO,WAAW,CAAC;AACzF,QAAI,QAAQ,IAAI,aAAa,kBAAkB,CAAC,QAAQ,MAAM,QAAQ,IAAI,KAAK,CAAC,KAAK,SAAS;AAC5F,cAAQ,KAAK,uCAAuC,MAAM,KAAK,MAAM,KAAK;AAAA,IAC3E;AACD,WAAO;AAAA,EACX,CAAG;AACH;AACA,MAAe,qDAAgB;AAAA,EAC7B,MAAM;AAAA,EACN,OAAO;AAAA,IACL,QAAQ;AAAA,MACN,MAAM;AAAA,MACN,SAAS,MAAM,CAAE;AAAA,IAClB;AAAA,IACD,aAAa;AAAA,MACX,MAAM;AAAA,MACN,SAAS,OAAO,CAAA;AAAA,IACjB;AAAA,EACF;AAAA,EACD,MAAM,OAAO;AACX,UAAM,cAAc,KAAK,MAAM,aAAa,QAAQ;AACpD,gBAAY,MAAM,OAAO,YAAY,MAAM,QAAQ,qBAAqB,WAAW;AACnF,WAAO,MAAM;;AAAA,4BAAa,WAAM,WAAN,mBAAc,OAAO,UAAU,QAAO,IAAI,WAAW;AAAA;AAAA,EAChF;AACH,CAAC;AACD,MAAM,uBAAuB,CAAC,gBAAgB;AAC5C,SAAO,gCAAgB;AAAA,IACrB,MAAM;AAAA,IACN,cAAc;AAAA,IACd,OAAO;AAAA,MACL,UAAU;AAAA,QACR,MAAM;AAAA,QACN,SAAS,MAAM,CAAE;AAAA,MAClB;AAAA,MACD,OAAO;AAAA,QACL,MAAM;AAAA,QACN,SAAS;AAAA,MACV;AAAA,IACF;AAAA,IACD,MAAM,OAAO;AACX,aAAO,MAAM;;AACX,cAAM,cAAY,WAAM,SAAS,CAAC,MAAhB,mBAAmB,cAAa;AAClD,YAAI,MAAM,QAAQ,GAAG;AACnB,iBAAO,EAAE,YAAY,YAAY,MAAM,CAAC;AAAA,YACtC,YAAY,OAAO;AAAA,YACnB,CAAE;AAAA,YACmD,EAAE,SAAS,MAAM,aAAa,MAAM,UAAU,WAAW,EAAG;AAAA,UAClH,CAAA,CAAC;AAAA,QACH;AACD,eAAO;AAAA,UACL,YAAY,OAAO;AAAA,UACnB,CAAE;AAAA,UACmD,EAAE,SAAS,MAAM,aAAa,MAAM,UAAU,WAAW,EAAG;AAAA,QAC3H;AAAA,MACA;AAAA,IACK;AAAA,EACL,CAAG;AACH;ACnNA,MAAKA,cAAU;AAAA,EACb,OAAO;AAAA,IACL,QAAQ;AAAA,MACN,MAAM;AAAA,MACN,UAAU;AAAA,IACX;AAAA,EACF;AACH;;;AAIkB,QAAAC,mBAAA,0BAAAC,WAAA,EAAA,QAAQ,OAAM,OAAA,GAAA,MAAA,GAAA,MAAA,OAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACMhC,MAAA,cAAe;AAAA,EACb,OAAO;AAAA,IACL,MAAM;AAAA,MACJ,MAAM;AAAA,MACN,UAAU;AAAA,IACZ;AAAA,EACF;AAAA,EACA,YAAY,EAAE,aAAa;AAC7B;;;;;;;AAnBA,UAAM,QAAQ;AACd,UAAM,QAAQ;AACR,UAAA,EAAE,MAAM,KAAA,kDAAe,eAAqB,OAAO;AAAA,MACvD,MAAM,MAAM,OAAO;AAAA,IAAA,CACpB,CAAA;AAGD,QAAI,OAAO,SAAS,MAAM,KAAK,MAAM,MAAM,QAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","x_google_ignoreList":[0]}